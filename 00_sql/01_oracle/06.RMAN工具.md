## RMAN工具概述
如果使用RMAN作为数据库备份与恢复工具，那么所有的备份和恢复操作都可以在RMAN环境下使用RMAN命令完成，这样可以减少DBA在对数据库进行备份与恢复时产生的错误，提高备份与恢复效率。

## RMAN命令
- 连接到目标数据库
  + RMAN TARGET SYSTEM/NOCATALOG命令 ：指定当前默认数据库为RMAN的目标数据库
- SHOW ALL命令：查看到当前RMAN的配置
- 启动与关闭目标数据库
```sql
-- 在RMAN中对数据库进行备份与恢复，经常需要启动和关闭目标数据库
RMAN> shutdown immediate;
RMAN> startup;
RMAN> startup mount;
RMAN> startup pfile = 'F:\app\oracle\product\initora11g.ora';
RMAN> alter database open;
```

- 备份数据库
  + backup database format = 'D:\OracleFiles\Backup\oradb_%d_%s.bak';
- 备份表空间
  + backup tablespace tbsp_1,ts_1 format 'D:\OracleFiles\Backup\%d_%p_%t_%c.dbf';
- 备份数据文件及数据文件的复制
  + backup datafile 1,2,3 filesperset 3;

- 增量备份
```sql
-- 对system、sysaux和users表空间进行了一次0级差异增量备份
RMAN> run{
2> allocate channel ch_1 type disk;
3> backup incremental level=0
4> format 'D:\OracleFiles\Backup\oar11g_%m_%d_%c.bak'
5> tablespace system,sysaux,users;
6> }
```

- 恢复
  + restore database;/restore tablespace users;
  + recover tablespace users;
